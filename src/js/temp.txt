const arrowLeft = document.querySelector('[data-arrow="left"]')
const arrowRight = document.querySelector('[data-arrow="right"]')

const carousel = {
  carouselWrapper: document.querySelectorAll('.carousel-wrapper'),

  currentChange(direction) {
    let current
    for (let i = 0; i < this.carouselWrapper.length; i++) {
      if (this.carouselWrapper[i].dataset.current === '1') current = i
    }
    this.carouselWrapper[current].style = 'transform: translate(-150%, 0px); transition: all 1.5s ease 1.5s'
    this.carouselWrapper[current].removeAttribute('data-current')
    // this.carouselWrapper[current].classList.add('hide')
    switch (direction) {
      case 'right':
        current++
        if (current === this.carouselWrapper.length) current = 0
        break
      case 'left':
        current--
        if (current < 0) current = this.carouselWrapper.length - 1
        break
    }
    // setTimeout(() => this.carouselWrapper[current].classList.remove('hide'), 2500)
    // this.carouselWrapper[current].classList.remove('hide')
    this.carouselWrapper[current].classList.remove('pos-left')
    this.carouselWrapper[current].setAttribute('data-current', '1')
    this.carouselWrapper[current].style = 'transform: translate(0, 0); transition: all 1.5s ease 1.5s'
  },
}

arrowLeft.addEventListener('click', carousel.currentChange.bind(carousel, 'left'))
arrowRight.addEventListener('click', carousel.currentChange.bind(carousel, 'right'))

// без анимации
case 'right':
        this.carouselWrapper[current].classList.add('hide')
        this.carouselWrapper[current].removeAttribute('data-current')
        current++
        (current === this.carouselWrapper.length) ? current = 0 : current
        this.carouselWrapper[current].classList.remove('hide')
        break